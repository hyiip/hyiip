<!DOCTYPE html>
<html>
<head>
<title>Analysis different index with CIR model</title>
<style>body{ padding:10px ; }</style>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script>
$(document).ready(() => {
	const zrButtonList = ["zr1", "zr2", "zr3", "zr4", "zr5"];

	const zupdateValue = () => {
        let zoutput = "";

        const zmode = $(`input[name=zr1]:checked`).val()
        const zindex = $(`input[name=zr2]:checked`).val()
        const zday = $(`input[name=zr3]:checked`).val()
        const zSD = $(`input[name=zr4]:checked`).val()
        const zvari = $(`input[name=zr5]:checked`).val()
        zoutput = "https://hyiip.github.io/docs/plotly/zscore/SD" + zSD + "/day" + zday + "/" + zmode + "/" + zindex + "/" + zvari + ".html"
        $("#zgraph").load(zoutput);
        
    }

	zrButtonList.forEach( (zr) => {
    	$(`input[name='${zr}']`).change(()=> {
    		zupdateValue();
		});
    });
  	zupdateValue();
});



</script>
<script>
$(document).ready(() => {
	const irButtonList = ["ir1", "ir2", "ir3", "ir4", "ir5"];

	const iupdateValue = () => {
        let ioutput = "";

        const imode = $(`input[name=ir1]:checked`).val()
        const iindex = $(`input[name=ir2]:checked`).val()
        const iday = $(`input[name=ir3]:checked`).val()
        const iSD = $(`input[name=ir4]:checked`).val()
        const ivari = $(`input[name=ir5]:checked`).val()
        ioutput = "https://hyiip.github.io/docs/plotly/SD" + iSD + "/day" + iday + "/" + imode + "/"  + iindex + "/" + ivari + ".html"
        $("#igraph").load(ioutput);
        
    }

	irButtonList.forEach( (ir) => {
    	$(`input[name='${ir}']`).change(()=> {
    		iupdateValue();
		});
    });
  	iupdateValue();
});



</script>
<script>
$(document).ready(() => {
	const rrButtonList = ["rr1", "rr2", "rr3", "rr4"];

	const rupdateValue = () => {
        let routput = "";

        const rindex = $(`input[name=rr1]:checked`).val()
        const rday = $(`input[name=rr2]:checked`).val()
        const rSD = $(`input[name=rr3]:checked`).val()
        const rvari = $(`input[name=rr4]:checked`).val()
        routput = "https://hyiip.github.io/docs/plotly/raw/SD" + rSD  + "/day" + rday + "/" + rindex + "/" + rvari + ".html"
        $("#rgraph").load(routput);
        
    }

	rrButtonList.forEach( (rr) => {
    	$(`input[name='${rr}']`).change(()=> {
    		rupdateValue();
		});
    });
  	rupdateValue();
});



</script>
</head>
<body>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
<p><strong>Analysis different index with CIR model</strong></p>
<p><strong>Model</strong></p>
<p>6 indexes are analyzed in this report. They are 1) Dow Jones Industrial Average (DJI), 2) Hang Seng index (HSI), 3) S&amp;P 500 (GSPC), 4) NASDAQ Composite (IXIC) 5) DAX (GDAXI) and 6) Nikkei 225 (N225). The dataframe is started from the earliest record that can be obtained, until 27/03/2020.</p>
<p>The model used for indices is as following: <br />$$ y=- ln \frac{x_U-x}{x_U-x_L}\ $$ <br /> with <br />
$$dy=\kappa \left(\theta -y\right)dt+\sigma \sqrt{y}\ dW\ -(1)$$ <br /> Here, $x = S / S_{MA}$ . $S$ is the value of index of specific day, and $S_{MA}$ is the n-day moving average of the index. Therefore, $x$ is the normalized index value.</p>
<p>$x_U$ and $x_L$ indicate the upper and lower boundaries of $x$.</p>
<p>The plots of the index, moving average of the index, the normalized index value and $y$ are shown below:</p>
<p><div class="btn-group-toggle" data-toggle="buttons">
Index:
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="rr1" value="DJI" checked autocomplete="off">DJI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr1" value="HSI" autocomplete="off">HSI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr1" value="GSPC" autocomplete="off">GSPC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr1" value="IXIC" autocomplete="off">IXIC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr1" value="GDAXI" autocomplete="off">GDAXI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr1" value="N225" autocomplete="off">N225
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    day: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="rr2" value="30" checked autocomplete="off">30
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr2" value="50" autocomplete="off">50
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr2" value="60" autocomplete="off">60
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr2" value="90" autocomplete="off">90
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr2" value="120" autocomplete="off">120
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
  SD: 
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr3" value="150" autocomplete="off">1.5
  </label>
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="rr3" value="175" checked autocomplete="off">1.75
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr3" value="200" autocomplete="off">2
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr3" value="250" autocomplete="off">2.5
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    Data: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="rr4" value="index" checked autocomplete="off">Index & Moving Average
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="rr4" value="normalize" autocomplete="off">
    $S/S_{MA}$ and $y$
  </label>
</div>

<p> 

<div class = "w-75" id="rgraph"></div></p>
<p>The green dotted line in graph $S/S_{MA}$ and $y$ represent $x_L$.</p>
<p>The plots of calibrated $\kappa$, $\theta$ and $\sigma$ from CIR model and GARCH is shown below:</p>
<p><div class="btn-group-toggle" data-toggle="buttons">
  Mode: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="ir1" value="expand" checked autocomplete="off">Expanding windows
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir1" value="roll" autocomplete="off">Rolling windows
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
Index:
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="ir2" value="DJI" checked autocomplete="off">DJI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir2" value="HSI" autocomplete="off">HSI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir2" value="GSPC" autocomplete="off">GSPC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir2" value="IXIC" autocomplete="off">IXIC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir2" value="GDAXI" autocomplete="off">GDAXI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir2" value="N225" autocomplete="off">N225
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    day: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="ir3" value="30" checked autocomplete="off">30
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir3" value="50" autocomplete="off">50
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir3" value="60" autocomplete="off">60
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir3" value="90" autocomplete="off">90
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir3" value="120" autocomplete="off">120
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
  SD: 
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir4" value="150" autocomplete="off">1.5
  </label>
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="ir4" value="175" checked autocomplete="off">1.75
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir4" value="200" autocomplete="off">2
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir4" value="250" autocomplete="off">2.5
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    Parameter: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="ir5" value="kappa" checked autocomplete="off">$\kappa$
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir5" value="theta" autocomplete="off">$\theta$
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="ir5" value="sigma" autocomplete="off">$\sigma$
  </label>
</div>

<p> 

<div class = "w-75" id="igraph"></div></p>
<p>In this figure, the blue line represents the parameter calibrated by MLE, and orange line is obtained by GARCH. The light blue bounded area represents the 95% confidence interval of parameter obtained by MLE. Similarly, the light orange area is the confidence interval by GARCH.</p>
<p>The conversion of z-score and p-value can be done by some simple function. Since they are equivalent, z-score is used. The plot of z-score is shown below:</p>
<p><div class="btn-group-toggle" data-toggle="buttons">
  Mode: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="zr1" value="expand" checked autocomplete="off">Expanding windows
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr1" value="roll" autocomplete="off">Rolling windows
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
Index:
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="zr2" value="DJI" checked autocomplete="off">DJI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr2" value="HSI" autocomplete="off">HSI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr2" value="GSPC" autocomplete="off">GSPC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr2" value="IXIC" autocomplete="off">IXIC
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr2" value="GDAXI" autocomplete="off">GDAXI
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr2" value="N225" autocomplete="off">N225
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    day: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="zr3" value="30" checked autocomplete="off">30
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr3" value="50" autocomplete="off">50
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr3" value="60" autocomplete="off">60
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr3" value="90" autocomplete="off">90
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr3" value="120" autocomplete="off">120
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
  SD: 
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr4" value="150" autocomplete="off">1.5
  </label>
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="zr4" value="175" checked autocomplete="off">1.75
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr4" value="200" autocomplete="off">2
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr4" value="250" autocomplete="off">2.5
  </label>
</div>

<div class="btn-group-toggle" data-toggle="buttons">
    Parameter: 
  <label class="btn btn-outline-secondary active">
    <input type="radio" name="zr5" value="kappa" checked autocomplete="off">$\kappa$
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr5" value="theta" autocomplete="off">$\theta$
  </label>
  <label class="btn btn-outline-secondary">
    <input type="radio" name="zr5" value="sigma" autocomplete="off">$\sigma$
  </label>
</div>

<p> 

<div class = "w-75" id="zgraph"></div></p>

</body>
</html>